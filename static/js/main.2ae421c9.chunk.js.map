{"version":3,"sources":["logic/calc.js","components/common/LanguageSelector.js","components/common/InfoCircle.js","components/ResultSection.js","pages/Page.js","components/common/Loader.js","App.js","i18n.js","index.js"],"names":["calculateNumberOfVacationDaysNextPeriod","startingDate","numberOfPaidVacationDays","numberOfVacationNextPeriod","firstDayOfEarningYear","Date","getFullYear","getMonth","startingDateDayNumberOfEarningYear","Math","ceil","numberOfDaysOfEarningYear","daysOfAYear","numberOfDaysWorkedThisEarningYear","numberOfVacationDays","calculateNumberOfVacationDays","isLeapYear","year","calculateDayOfYear","LanguageSelector","i18n","useTranslation","changeLanguage","lng","type","onClick","square","width","height","InfoCircle","header","subHeader","description","icon","Segment","circular","style","Header","as","Icon","name","Subheader","textAlign","ResultSection","healtCareSubThisYear","vacationDaysNextPeriod","t","startYearOfFirstVacationYear","firstDayOfVacationYear","getYearOfFirstVacationPeriod","endYearOfFirstVacationYear","Grid","stackable","columns","Column","moment","format","startYear","endYear","Page","useState","setStartingDate","setNumberOfPaidVacationDays","setHealtCareSubThisYear","setVacationDaysNextPeriod","message","setMessage","setVactationDays","Container","text","margin","onChange","dayOfYear","workingDaysThisYear","round","calculateHealthCareSub","value","Input","label","basic","content","labelPosition","size","min","placeholder","e","target","Divider","className","renderMessage","Loader","App","fallback","resources","en","translation","translationEN","sv","translationSE","use","Backend","LanguageDetector","initReactI18next","init","fallbackLng","debug","lngWhitelist","interpolation","escapeValue","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.2ae421c9.chunk.js","sourcesContent":["const healtCareSub = 5000;\r\n\r\nexport const getYearOfFirstVacationPeriod = function (startingDate) {\r\n  let firstDayOfVacationYear = new Date(startingDate.getFullYear(), 3, 1);\r\n  if (startingDate.getMonth() >= 3) {\r\n    firstDayOfVacationYear = new Date(startingDate.getFullYear() + 1, 3, 1);\r\n  }\r\n  return firstDayOfVacationYear.getFullYear();\r\n};\r\n\r\n/*\r\nAntalet betalda semesterdagar beräknas som: \r\nAntalet semesterdagar per år * antalet anställningsdagar aktuellt intjänandeår/ antal dagar på året \r\n(avrundas alltid uppåt till hela semesterdagar)\r\n*/\r\nexport const calculateNumberOfVacationDays = function (\r\n  startingDate,\r\n  firstDayOfEarningYear,\r\n  numberOfPaidVacationDays\r\n) {\r\n  const oneDayWorthOfMiliseconds = 86400000;\r\n  const startingDateDayNumberOfEarningYear = Math.ceil(\r\n    (startingDate - firstDayOfEarningYear) / oneDayWorthOfMiliseconds\r\n  );\r\n  const numberOfDaysOfEarningYear = daysOfAYear(\r\n    firstDayOfEarningYear.getFullYear() + 1\r\n  );\r\n  const numberOfDaysWorkedThisEarningYear =\r\n    numberOfDaysOfEarningYear - startingDateDayNumberOfEarningYear;\r\n  const numberOfVacationDays = Math.ceil(\r\n    (numberOfDaysWorkedThisEarningYear * numberOfPaidVacationDays) /\r\n      numberOfDaysOfEarningYear\r\n  );\r\n  if (numberOfVacationDays <= 0) {\r\n    return 0;\r\n  }\r\n  return numberOfVacationDays;\r\n};\r\n\r\nexport const calculateHealthCareSub = function (startingDate) {\r\n  const dayOfYear = calculateDayOfYear(startingDate);\r\n  const workingDaysThisYear =\r\n    daysOfAYear(startingDate.getFullYear()) - dayOfYear + 1;\r\n  const healtCareSubThisYear = Math.round(\r\n    healtCareSub *\r\n      (workingDaysThisYear / daysOfAYear(startingDate.getFullYear()))\r\n  );\r\n  return healtCareSubThisYear;\r\n};\r\n\r\nexport const calculateNumberOfVacationDaysNextPeriod = function (\r\n  startingDate,\r\n  numberOfPaidVacationDays\r\n) {\r\n  var numberOfVacationNextPeriod;\r\n  //the first day of the earning year is april 1st\r\n  let firstDayOfEarningYear = new Date(startingDate.getFullYear() - 1, 3, 1);\r\n  if (startingDate.getMonth() >= 3) {\r\n    firstDayOfEarningYear = new Date(startingDate.getFullYear(), 3, 1);\r\n  }\r\n  /*\r\n    Antalet betalda semesterdagar beräknas som: \r\n    Antalet semesterdagar per år * antalet anställningsdagar aktuellt intjänandeår/ antal dagar på året \r\n    (avrundas alltid uppåt till hela semesterdagar)\r\n  */\r\n  numberOfVacationNextPeriod = calculateNumberOfVacationDays(\r\n    startingDate,\r\n    firstDayOfEarningYear,\r\n    numberOfPaidVacationDays\r\n  );\r\n  return numberOfVacationNextPeriod;\r\n};\r\n\r\n/*\r\nHelper methods\r\n*/\r\n\r\nfunction isLeapYear(year) {\r\n  return year % 400 === 0 || (year % 100 !== 0 && year % 4 === 0);\r\n}\r\n\r\nconst daysOfAYear = function (year) {\r\n  return isLeapYear(year) ? 366 : 365;\r\n};\r\n\r\nconst calculateDayOfYear = function (startingDate) {\r\n  return Math.ceil(\r\n    (startingDate - new Date(startingDate.getFullYear(), 0, 1)) / 86400000\r\n  );\r\n};\r\n\r\nexport const exportedForTesting = {\r\n  daysOfAYear,\r\n  isLeapYear,\r\n  calculateDayOfYear,\r\n};\r\n","import React from \"react\";\r\n\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\n// loading component for suspense fallback\r\nfunction LanguageSelector() {\r\n  const { i18n } = useTranslation();\r\n\r\n  const changeLanguage = (lng) => {\r\n    i18n.changeLanguage(lng);\r\n  };\r\n  return (\r\n    <div>\r\n      <button type=\"submit\" onClick={() => changeLanguage(\"sv\")}>\r\n        sv\r\n      </button>\r\n      <button type=\"submit\" onClick={() => changeLanguage(\"en\")}>\r\n        en\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default LanguageSelector;\r\n","import React from \"react\";\r\nimport { Header, Segment, Icon } from \"semantic-ui-react\";\r\n\r\nconst square = { width: 200, height: 200 };\r\n\r\nfunction InfoCircle({ header, subHeader, description, icon }) {\r\n  return (\r\n    <>\r\n      <Segment circular style={square}>\r\n        <Header as=\"h3\" icon>\r\n          <Icon name={icon} />\r\n          {header}\r\n          <Header.Subheader>{subHeader}</Header.Subheader>\r\n        </Header>\r\n      </Segment>\r\n      <Header as=\"h4\" textAlign=\"center\">\r\n        {description}\r\n      </Header>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default InfoCircle;\r\n","import React from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport moment from \"moment\";\r\nimport { Grid } from \"semantic-ui-react\";\r\nimport InfoCircle from \"./common/InfoCircle\";\r\n\r\nimport { getYearOfFirstVacationPeriod } from \"../logic/calc\";\r\n\r\nfunction ResultSection({\r\n  startingDate,\r\n  healtCareSubThisYear,\r\n  vacationDaysNextPeriod,\r\n}) {\r\n  const { t } = useTranslation();\r\n  const startYearOfFirstVacationYear =\r\n    getYearOfFirstVacationPeriod(startingDate);\r\n  const endYearOfFirstVacationYear = startYearOfFirstVacationYear + 1;\r\n\r\n  return (\r\n    <Grid stackable columns={3}>\r\n      <Grid.Column>\r\n        <InfoCircle\r\n          header={t(\"start-date\")}\r\n          subHeader={moment(startingDate).format(\"YYYY-MM-DD\")}\r\n          description={t(\"start-date-sub-title\")}\r\n          icon=\"angle right\"\r\n        />\r\n      </Grid.Column>\r\n      <Grid.Column>\r\n        <InfoCircle\r\n          header={t(\"wellness-allowance\")}\r\n          subHeader={healtCareSubThisYear}\r\n          description={\r\n            t(\"wellness-allowance\") + moment(startingDate).format(\"YYYY\")\r\n          }\r\n          icon=\"heart\"\r\n        />\r\n      </Grid.Column>\r\n      <Grid.Column>\r\n        <InfoCircle\r\n          header={t(\"vacation.vacation-days\")}\r\n          subHeader={vacationDaysNextPeriod}\r\n          description={t(\"vacation.sub-info\", {\r\n            startYear: startYearOfFirstVacationYear,\r\n            endYear: endYearOfFirstVacationYear,\r\n          })}\r\n          icon=\"sun\"\r\n        />\r\n      </Grid.Column>\r\n    </Grid>\r\n  );\r\n}\r\n\r\nexport default ResultSection;\r\n","import React, { useState } from \"react\";\r\nimport DatePicker from \"react-date-picker\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { Container, Header, Input, Divider } from \"semantic-ui-react\";\r\n\r\nimport {\r\n  calculateHealthCareSub,\r\n  calculateNumberOfVacationDaysNextPeriod,\r\n} from \"../logic/calc\";\r\nimport LanguageSelector from \"../components/common/LanguageSelector\";\r\nimport ResultSection from \"../components/ResultSection\";\r\n\r\nfunction Page() {\r\n  const { t } = useTranslation();\r\n\r\n  const [startingDate, setStartingDate] = useState(null);\r\n  const [numberOfPaidVacationDays, setNumberOfPaidVacationDays] = useState(25);\r\n  const [healtCareSubThisYear, setHealtCareSubThisYear] = useState(0);\r\n  const [vacationDaysNextPeriod, setVacationDaysNextPeriod] = useState(0);\r\n  const [message, setMessage] = useState(null);\r\n\r\n  const setVactationDays = (startingDate) => {\r\n    const vacationDaysNextPeriod = calculateNumberOfVacationDaysNextPeriod(\r\n      startingDate,\r\n      numberOfPaidVacationDays\r\n    );\r\n    setVacationDaysNextPeriod(vacationDaysNextPeriod);\r\n  };\r\n\r\n  const onNumberOfPaidVacationDaysChange = (e) => {\r\n    setNumberOfPaidVacationDays(e.target.value);\r\n    if (startingDate) {\r\n      setVactationDays(startingDate);\r\n    }\r\n  };\r\n\r\n  const onDateChange = (startingDate) => {\r\n    if (!startingDate) {\r\n      return;\r\n    }\r\n    const healtCareSubThisYear = calculateHealthCareSub(startingDate);\r\n    setHealtCareSubThisYear(healtCareSubThisYear);\r\n    setStartingDate(startingDate);\r\n    setVactationDays(startingDate);\r\n    setMessage(t(\"message.informationOnFuture\"));\r\n  };\r\n\r\n  const renderMessage = () => {\r\n    if (message) {\r\n      return <p className=\"ui info message\">{message}</p>;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Container text style={{ margin: 20 }}>\r\n      <LanguageSelector />\r\n      <Header as=\"h1\">{t(\"title\")}</Header>\r\n      <p>{t(\"sub-title\")}</p>\r\n      <Header as=\"h5\">{t(\"select-star-date\")}</Header>\r\n      <DatePicker onChange={onDateChange} value={startingDate} />\r\n      <Header as=\"h5\">{t(\"vacation.number-of-vacation-days\")}</Header>\r\n      <Input\r\n        label={{ basic: true, content: t(\"days\") }}\r\n        labelPosition=\"right\"\r\n        type=\"number\"\r\n        size=\"mini\"\r\n        value={numberOfPaidVacationDays}\r\n        name=\"quantity\"\r\n        min=\"25\"\r\n        placeholder={numberOfPaidVacationDays}\r\n        onChange={onNumberOfPaidVacationDaysChange}\r\n      />\r\n      <Divider />\r\n      {startingDate ? (\r\n        <ResultSection\r\n          startingDate={startingDate}\r\n          healtCareSubThisYear={healtCareSubThisYear}\r\n          vacationDaysNextPeriod={vacationDaysNextPeriod}\r\n        />\r\n      ) : (\r\n        \"\"\r\n      )}\r\n      {renderMessage()}\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default Page;\r\n","// loading component for suspense fallback\r\nconst Loader = () => (\r\n    <div className=\"App\">\r\n      <div>loading...</div>\r\n    </div>\r\n  );\r\n\r\nexport default Loader;","import React, { Suspense } from \"react\";\r\n\r\nimport Page from \"./pages/Page\";\r\nimport Loader from \"./components/common/Loader\";\r\n\r\nfunction App() {\r\n  return (\r\n    <Suspense fallback={<Loader />}>\r\n      <Page />\r\n    </Suspense>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import i18n from 'i18next';\r\nimport { initReactI18next } from 'react-i18next';\r\n\r\nimport translationEN from \"./lang/translationEN.json\";\r\nimport translationSE from \"./lang/translationSE.json\";\r\n\r\n\r\nimport Backend from 'i18next-http-backend';\r\nimport LanguageDetector from 'i18next-browser-languagedetector';\r\n// don't want to use this?\r\n// have a look at the Quick start guide \r\n// for passing in lng and translations on init\r\n\r\nconst resources = {\r\n  en: {\r\n    translation: translationEN\r\n  },\r\n  sv: {\r\n    translation: translationSE\r\n  },\r\n  \"sv-SE\": {\r\n    translation: translationSE\r\n  }\r\n};\r\n\r\n\r\ni18n\r\n  // load translation using http -> see /public/locales (i.e. https://github.com/i18next/react-i18next/tree/master/example/react/public/locales)\r\n  // learn more: https://github.com/i18next/i18next-http-backend\r\n  // want your translations to be loaded from a professional CDN? => https://github.com/locize/react-tutorial#step-2---use-the-locize-cdn\r\n  .use(Backend)\r\n  // detect user language\r\n  // learn more: https://github.com/i18next/i18next-browser-languageDetector\r\n  .use(LanguageDetector)\r\n  // pass the i18n instance to react-i18next.\r\n  .use(initReactI18next)\r\n  // init i18next\r\n  // for all options read: https://www.i18next.com/overview/configuration-options\r\n  .init({\r\n    fallbackLng: 'en',\r\n    resources,\r\n    debug: true,\r\n    lngWhitelist: ['se', 'en'],\r\n\r\n    interpolation: {\r\n      escapeValue: false, // not needed for react as it escapes by default\r\n    }\r\n  });\r\n\r\n\r\nexport default i18n;","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\nimport \"semantic-ui-css/semantic.min.css\";\r\nimport \"./i18n\";\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}