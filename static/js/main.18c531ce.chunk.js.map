{"version":3,"sources":["components/App.js","index.js"],"names":["App","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","startDate","dayOfYear","healtCareSubThisYear","vacationDaysNextPeriod","vacationDaysThisPeriod","message","onDateChange","bind","assertThisInitialized","defaultNumberOfPaidVacationDays","year","isLeapYear","date","Math","ceil","Date","getFullYear","calculateDayOfYear","setState","workingDaysThisYear","daysOfAYear","round","startingDate","firstDayOfEarningYear","startingDateDayNumberOfEarningYear","numberOfDaysOfEarningYear","numberOfDaysWorkedThisEarningYear","numberOfVacationDays","getMonth","calculateNumberOfVacationDays","calculateHealthCareSub","calculateNumberOfVacationDaysNextPeriod","calculateNumberOfVacationDaysThisPeriod","react_default","a","createElement","className","getYearOfNextVacationPeriod","firstDayOfVacationYear","getYearOfThisVacationPeriod","style","paddingTop","entry_default","onChange","value","renderMessage","React","Component","ReactDOM","render","components_App","document","querySelector"],"mappings":"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","file":"static/js/main.18c531ce.chunk.js","sourcesContent":["import React from 'react';\r\nimport DatePicker from 'react-date-picker';\r\n\r\nconst healtCareSub = 5000;\r\n\r\nclass App extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      startDate: null,\r\n      dayOfYear: null,\r\n      healtCareSubThisYear: 0,\r\n      vacationDaysNextPeriod: 0,\r\n      vacationDaysThisPeriod: 0,\r\n      message: null\r\n    };\r\n    this.onDateChange = this.onDateChange.bind(this);\r\n    this.defaultNumberOfPaidVacationDays = 25;\r\n  }\r\n\r\n  isLeapYear(year) {\r\n    return year % 400 === 0 || (year % 100 !== 0 && year % 4 === 0);\r\n  }\r\n\r\n  daysOfAYear(year) {\r\n    return this.isLeapYear(year) ? 366 : 365;\r\n  }\r\n\r\n  calculateDayOfYear(date) {\r\n    return (Math.ceil((date - new Date(date.getFullYear(), 0, 1)) / 86400000))\r\n  }\r\n\r\n  calculateHealthCareSub(date) {\r\n    const dayOfYear = this.calculateDayOfYear(date);\r\n    this.setState({ dayOfYear: dayOfYear })\r\n    const workingDaysThisYear = this.daysOfAYear(date) - dayOfYear;\r\n    this.setState({\r\n      healtCareSubThisYear: Math.round(healtCareSub * (workingDaysThisYear / this.daysOfAYear(date))),\r\n      message: 'Baserat på antal dagar du kommer att jobba i år.'\r\n    })\r\n  }\r\n\r\n  calculateNumberOfVacationDays(startingDate, firstDayOfEarningYear) {\r\n    /*\r\n      Antalet betalda semesterdagar beräknas som: \r\n      Antalet semesterdagar per år * antalet anställningsdagar aktuellt intjänandeår/ antal dagar på året \r\n      (avrundas alltid uppåt till hela semesterdagar)\r\n    */\r\n    const startingDateDayNumberOfEarningYear = Math.ceil((startingDate - firstDayOfEarningYear) / 86400000);\r\n    const numberOfDaysOfEarningYear = this.daysOfAYear(firstDayOfEarningYear.getFullYear() + 1);\r\n    const numberOfDaysWorkedThisEarningYear = numberOfDaysOfEarningYear - startingDateDayNumberOfEarningYear + 1\r\n    const numberOfVacationDays = Math.ceil(numberOfDaysWorkedThisEarningYear * this.defaultNumberOfPaidVacationDays / numberOfDaysOfEarningYear)\r\n    if(numberOfVacationDays <= 0){\r\n      return 0;\r\n    }\r\n    return numberOfVacationDays;\r\n  }\r\n\r\n  calculateNumberOfVacationDaysNextPeriod(startingDate) {\r\n    //the first day of the earning year is april 1st\r\n    let firstDayOfEarningYear = new Date(new Date().getFullYear() - 1, 3, 1)\r\n    if (new Date().getMonth() >= 3) {\r\n      firstDayOfEarningYear = new Date(new Date().getFullYear(), 3, 1)\r\n    }\r\n    /*\r\n    If having started before the first day of the current earning year, we can assume that\r\n    the employee will have full vacation\r\n    */\r\n    if (startingDate < firstDayOfEarningYear) {\r\n      this.setState({\r\n        vacationDaysNextPeriod: 25\r\n      })\r\n      return\r\n    }\r\n    /*\r\n      Antalet betalda semesterdagar beräknas som: \r\n      Antalet semesterdagar per år * antalet anställningsdagar aktuellt intjänandeår/ antal dagar på året \r\n      (avrundas alltid uppåt till hela semesterdagar)\r\n    */\r\n    this.setState({\r\n      vacationDaysNextPeriod: this.calculateNumberOfVacationDays(startingDate, firstDayOfEarningYear)\r\n    })\r\n  }\r\n  calculateNumberOfVacationDaysThisPeriod(startingDate) {\r\n    //the first day of the earning year is april 1st\r\n    let firstDayOfEarningYear = new Date(new Date().getFullYear() - 2, 3, 1)\r\n    if (new Date().getMonth() >= 3) {\r\n      firstDayOfEarningYear = new Date(new Date().getFullYear() - 1, 3, 1)\r\n    }\r\n    /*\r\n    If having started before the first day of the current earning year, we can assume that\r\n    the employee will have full vacation\r\n    */\r\n    if (startingDate < firstDayOfEarningYear) {\r\n      this.setState({\r\n        vacationDaysThisPeriod: 25\r\n      })\r\n      return\r\n    }\r\n    /*\r\n      Antalet betalda semesterdagar beräknas som: \r\n      Antalet semesterdagar per år * antalet anställningsdagar aktuellt intjänandeår/ antal dagar på året \r\n      (avrundas alltid uppåt till hela semesterdagar)\r\n    */\r\n    this.setState({\r\n      vacationDaysThisPeriod: this.calculateNumberOfVacationDays(startingDate, firstDayOfEarningYear)\r\n    })\r\n  }\r\n\r\n  onDateChange(date) {\r\n    this.setState({\r\n      startDate: date,\r\n    });\r\n    if (date) {\r\n      if (date.getFullYear() < new Date().getFullYear()) {\r\n        this.setState({\r\n          healtCareSubThisYear: 5000,\r\n          message: 'Eftersom du började förra året så har du fullt friskvårdsbidrag i år.'\r\n        })\r\n      }else{\r\n        this.calculateHealthCareSub(date);\r\n      }\r\n      this.setState({\r\n        message: null\r\n      })\r\n      this.calculateNumberOfVacationDaysNextPeriod(date)\r\n      this.calculateNumberOfVacationDaysThisPeriod(date)\r\n    }\r\n  }\r\n\r\n  renderMessage() {\r\n    if (this.state.message) {\r\n      return (\r\n        <h5 className=\"ui info message\">\r\n          {this.state.message}\r\n        </h5>\r\n      )\r\n    }\r\n  }\r\n\r\n  render() {\r\n    function getYearOfNextVacationPeriod() {\r\n      let firstDayOfVacationYear = new Date(new Date().getFullYear(), 3, 1)\r\n      if (new Date().getMonth() >= 3) {\r\n        firstDayOfVacationYear = new Date(new Date().getFullYear() + 1, 3, 1)\r\n      }\r\n      return firstDayOfVacationYear.getFullYear();\r\n    }\r\n\r\n    function getYearOfThisVacationPeriod() {\r\n      let firstDayOfVacationYear = new Date(new Date().getFullYear() - 1, 3, 1)\r\n      if (new Date().getMonth() >= 3) {\r\n        firstDayOfVacationYear = new Date(new Date().getFullYear(), 3, 1)\r\n      }\r\n      return firstDayOfVacationYear.getFullYear();\r\n    }\r\n\r\n    return (\r\n      <div className=\"ui container\">\r\n        <h1 className=\"ui header\">Friskvårdsbidragsuträknare</h1>\r\n        <div className=\"sub header\">Välj ett startdatum för att räkna ut hur mycket Friskvårdsbidrag du är berättigad till i år.</div>\r\n        <div style={{ paddingTop: '30px' }}>\r\n          <DatePicker\r\n            onChange={this.onDateChange}\r\n            value={this.state.startDate}\r\n          />\r\n        </div>\r\n        <h2 className=\"ui icon header\">\r\n          <div className=\"content\">\r\n            Friskvårdsbidrag: {this.state.healtCareSubThisYear}\r\n          </div>\r\n          <div className=\"content\">\r\n            Semester period 1/4/{getYearOfThisVacationPeriod()}-31/3/{getYearOfThisVacationPeriod() + 1}: {this.state.vacationDaysThisPeriod}\r\n          </div>\r\n          <div className=\"content\">\r\n            Semester period 1/4/{getYearOfNextVacationPeriod()}-31/3/{getYearOfNextVacationPeriod() + 1}: {this.state.vacationDaysNextPeriod}\r\n          </div>\r\n        </h2>\r\n        {this.renderMessage()}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './components/App';\r\n\r\nReactDOM.render(<App />,\r\n    document.querySelector('#root'));"],"sourceRoot":""}